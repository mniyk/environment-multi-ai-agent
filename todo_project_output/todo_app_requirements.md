# ToDoアプリケーション 要件定義書

## プロジェクト概要

**プロジェクト名**: シンプルToDoアプリケーション  
**開発目的**: 学習・ポートフォリオ向けの個人利用ToDoアプリ  
**技術スタック**: Python Flask + SQLite + Jinja2  
**対象ユーザー**: 個人利用者  

---

## 1. 機能要件

### 1.1 必須機能（MVP）

#### **基本CRUD操作**
- **C (Create)**: 新しいタスクの作成
- **R (Read)**: タスク一覧の表示・詳細表示
- **U (Update)**: タスクの編集・完了状態の変更
- **D (Delete)**: タスクの削除

#### **基本タスク管理**
- タスクのタイトル設定（必須）
- タスクの説明追加（任意）
- タスクの完了/未完了状態管理
- タスクの作成日時自動記録

### 1.2 追加機能（優先順位）

#### **高優先度**
- タスクの優先度設定（高・中・低）
- タスクの期限設定
- 期限切れタスクのハイライト表示

#### **中優先度**
- タスクのカテゴリ分類
- カテゴリ別フィルタリング
- 完了済みタスクの非表示/表示切り替え

#### **低優先度**
- タスクの並び順変更（ドラッグ&ドロップ）
- タスクの検索機能
- 統計情報表示（完了率等）

### 1.3 除外機能（スコープ外）

- **複数ユーザー対応**: 認証・認可機能
- **リアルタイム同期**: WebSocket等の技術
- **高度な通知機能**: メール通知、プッシュ通知
- **外部API連携**: カレンダー、Slack等
- **モバイルアプリ**: ネイティブアプリ開発

---

## 2. 非機能要件

### 2.1 パフォーマンス要件

- **応答時間**: 通常操作（CRUD）は2秒以内
- **同時接続**: 1ユーザー想定（個人利用）
- **データ容量**: 1,000タスクまで快適に動作
- **起動時間**: アプリケーション起動は5秒以内

### 2.2 セキュリティ要件

- **入力値検証**: SQLインジェクション対策
- **XSS対策**: テンプレートエスケープ処理
- **CSRF対策**: Flask-WTFによるトークン検証
- **セッション管理**: 適切なセッション設定

### 2.3 使いやすさ要件

- **直感的UI**: 学習コストなしで利用可能
- **レスポンシブデザイン**: PCとタブレットで利用可能
- **エラーハンドリング**: 分かりやすいエラーメッセージ
- **データ永続化**: ブラウザ閉じても データ保持

### 2.4 保守性要件

- **コード品質**: PEP8準拠、適切なコメント
- **テスト**: 主要機能の単体テスト
- **ログ出力**: エラー・操作ログの記録
- **バックアップ**: データベースファイルの定期保存

---

## 3. ユーザーストーリー

### 3.1 メインユーザーペルソナ

**名前**: 田中太郎（28歳）  
**職業**: システムエンジニア  
**利用目的**: 個人のタスクとプロジェクト管理  
**技術レベル**: 中級（Web アプリに慣れている）  
**利用環境**: Windows PC、Chrome ブラウザ  

### 3.2 主要ユーザーシナリオ

#### **シナリオ1: 日常的なタスク管理**
```
As a 個人ユーザー
I want to 毎日のタスクを簡単に追加・管理したい
So that 忘れずに効率的に作業を進められる
```

**ユーザージャーニー**:
1. アプリを開く
2. 新しいタスクを追加
3. 優先度と期限を設定
4. 作業完了後、チェックマークで完了
5. 完了済みタスクを非表示

#### **シナリオ2: プロジェクト管理**
```
As a プロジェクト従事者
I want to プロジェクトのタスクをカテゴリ別に整理したい
So that 進捗を把握し、計画的に作業を進められる
```

**ユーザージャーニー**:
1. プロジェクト用のカテゴリを作成
2. タスクにカテゴリを設定
3. カテゴリ別にフィルタリング
4. 期限順でソート表示
5. 進捗状況を確認

### 3.3 受け入れ条件

#### **機能の受け入れ条件**
- [ ] タスクの作成が3クリック以内で完了
- [ ] タスク一覧が読み込み1秒以内で表示
- [ ] タスクの編集がインライン操作で可能
- [ ] 完了タスクが即座に視覚的に区別される
- [ ] 期限切れタスクが自動的にハイライト

#### **品質の受け入れ条件**
- [ ] 主要ブラウザ（Chrome, Firefox, Safari）で動作
- [ ] 画面幅1024px以上で適切にレイアウト
- [ ] エラー発生時に適切なメッセージを表示
- [ ] データの入力制限が適切に動作

---

## 4. 技術選定理由

### 4.1 Flask（Webフレームワーク）

**選定理由**:
- **学習コスト**: Pythonの基本知識があれば習得しやすい
- **シンプル性**: 小規模アプリに最適、過度な複雑さがない
- **柔軟性**: 必要な機能のみを組み込める軽量設計
- **ドキュメント**: 豊富な日本語・英語資料

**採用メリット**:
- 短期間での開発が可能
- ポートフォリオとして理解しやすい
- 将来的な機能拡張も容易

### 4.2 Jinja2（テンプレートエンジン）

**選定理由**:
- **Flaskとの親和性**: Flask標準のテンプレートエンジン
- **セキュリティ**: 自動エスケープ機能によるXSS対策
- **表現力**: 条件分岐・ループ等の豊富な機能
- **保守性**: HTMLとロジックの適切な分離

### 4.3 SQLite（データベース）

**選定理由**:
- **セットアップの簡単さ**: ファイルベース、インストール不要
- **個人利用適性**: 軽量で十分な機能
- **ポータビリティ**: ファイル単位での移行が容易
- **学習コスト**: SQL標準に準拠、学習しやすい

**制約・注意点**:
- 同時書き込み制限（個人利用では問題なし）
- 本格的なマルチユーザー対応には不向き

---

## 5. プロジェクト計画

### 5.1 開発フェーズ

#### **Phase 1: 基盤構築**（1週間）
- 開発環境セットアップ
- Flask アプリケーション基本構造
- データベース設計・作成
- 基本的なルーティング

#### **Phase 2: 基本機能開発**（2週間）
- CRUD機能実装
- 基本的なUI/UX
- テンプレート作成
- フォーム処理

#### **Phase 3: 機能拡張**（1週間）
- 優先度・期限機能
- カテゴリ機能
- フィルタリング・ソート

#### **Phase 4: 品質向上**（1週間）
- テスト作成・実行
- セキュリティ対策
- エラーハンドリング改善
- UI/UX改善

#### **Phase 5: 仕上げ**（1週間）
- 最終テスト
- ドキュメント整備
- デプロイ準備

### 5.2 成果物リスト

#### **設計ドキュメント**
- [ ] 要件定義書（本文書）
- [ ] データベース設計書
- [ ] API設計書
- [ ] 画面遷移図

#### **ソースコード**
- [ ] Flaskアプリケーション
- [ ] HTMLテンプレート
- [ ] CSS/JavaScript
- [ ] テストコード

#### **品質保証ドキュメント**
- [ ] テスト計画書
- [ ] テスト実行結果
- [ ] セキュリティチェックリスト

#### **運用ドキュメント**
- [ ] セットアップ手順書
- [ ] ユーザーマニュアル
- [ ] 保守運用ガイド

### 5.3 品質基準

#### **コード品質**
- PEP8コーディング規約準拠
- 関数・クラスの適切なドキュメント
- 循環的複雑度10以下維持
- コードレビュー実施

#### **テスト基準**
- 単体テストカバレッジ80%以上
- 機能テスト全項目PASS
- セキュリティテスト実施
- パフォーマンステスト実施

#### **リリース基準**
- 全ての受け入れ条件クリア
- 重大なバグゼロ
- ドキュメント整備完了
- デプロイ手順確認済み

---

## 6. リスク管理

### 6.1 技術リスク

**リスク**: Flask/SQLiteの学習コスト
**対策**: 事前チュートリアル実施、段階的な機能実装

**リスク**: データベース設計の変更
**対策**: マイグレーション機能の実装検討

### 6.2 スケジュールリスク

**リスク**: 機能要件の膨張
**対策**: MVP優先、追加機能は別フェーズ

**リスク**: 品質要件の妥協
**対策**: 各フェーズでの品質ゲート設定

---

**文書作成日**: 2024年6月20日  
**作成者**: Product Manager  
**レビュー予定日**: フェーズ1完了時  
**承認予定者**: プロジェクトリーダー  
